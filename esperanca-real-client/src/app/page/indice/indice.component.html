<section id="indice" class="padding-top100 padding-bottom80 testimonial-wrapper">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="section-title text-center wow fadeInUp" data-wow-delay="300ms">
          <h2 class="title wow fadeInUp" data-wow-delay="300ms">Índice</h2>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 text-center">
        <mat-tab-group mat-align-tabs="center">
          <mat-tab label="{{testamento.descricao}}" *ngFor="let testamento of testamentos">
            <div class="testimonials">
              <owl-carousel [options]="{items: 5, dots: true, navigation: true}" [items]="livros[testamento.id]" [carouselClasses]="['owl-theme', 'sliding']">
                <div class="item" *ngFor="let livro of livros[testamento.id]">
                  <div class="thumbnail-image">
                    <div class="livro-wrapper">
                      <a pageScroll [pageScrollOffset]="0" [pageScrollDuration]="700" [pageScrollInterruptible]="false" href="#leitura" (pageScrollFinish)="abrirLivro(livro.id, 1);">{{livro.nome}}</a>
                    </div>
                  </div>
                </div>
              </owl-carousel>
            </div>
          </mat-tab>
        </mat-tab-group>
      </div>
    </div>
  </div>
</section>
<section id="pesquisa" class="clearfix padding-top100 padding-bottom130">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="section-title text-center wow fadeInUp" data-wow-delay="300ms">
          <h2 class="title wow fadeInUp" data-wow-delay="300ms">Pesquisa</h2>
        </div>
      </div>
    </div>
    <div class="row justify-content-md-center">
      <div class="col col-md-7">
        <mat-form-field class="example-full-width">
          <input matInput type="text" placeholder="Buscar na Bíblia" [(ngModel)]="palavraChave" >
        </mat-form-field>
      </div>
      <div class="col-md-1">
        <button mat-stroked-button color="primary" (click)="pesquisar()"><i class="fas fa-search"></i></button>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="section-title text-center wow fadeInUp" data-wow-delay="300ms">
          <h3 *ngIf="countResultadoBusca > 0" class="title wow fadeInUp" data-wow-delay="300ms">{{palavraChave}}: {{countResultadoBusca}} resultado(s) encontrado(s)</h3>
          <h3 *ngIf="countResultadoBusca == 0" class="title wow fadeInUp" data-wow-delay="300ms">{{palavraChave}}: A Pesquisa não retornou resultados</h3>
        </div>
      </div>
    </div>
    <div class="row padding-top30" *ngFor="let pesquisa of resultadoPesquisa | paginate: { id:'paginator-pesquisa', itemsPerPage: 7, currentPage: p, totalItems: resultadoPesquisa.length}">
      <div class="section-title text-left wow fadeInUp" data-wow-delay="300ms">
        <div class="col-md-2">
          <a pageScroll [pageScrollOffset]="0" [pageScrollDuration]="700" [pageScrollInterruptible]="false" href="#leitura" (pageScrollFinish)="abrirLivroPesquisa(pesquisa.livro, pesquisa.capitulo, pesquisa.versiculo);">{{pesquisa.nome}} {{pesquisa.capitulo}}:{{pesquisa.versiculo}}</a>
        </div>
        <div class="col-md-10">{{pesquisa.texto}}</div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="section-title text-center wow fadeInUp padding-top30 " data-wow-delay="300ms" *ngIf="resultadoPesquisa.length > 0"> 
          <pagination-controls (pageChange)="p = $event" id="paginator-pesquisa"></pagination-controls>
        </div>
      </div>
    </div>
  </div>
</section>
<section id="leitura" class="padding-top100 padding-bottom80 testimonial-wrapper">
  <ng-template #dynamic></ng-template>
</section>